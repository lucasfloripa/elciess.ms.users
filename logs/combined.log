{"level":"info","message":"Init AuthUserController"}
{"error":"Missing param: email","level":"warn","message":"AuthUserController error: MissingParamError","stack":"Error: MissingParamError\n    at RequiredFieldValidation.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/required-field-validation.ts:9:14)\n    at ValidationComposite.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/validation-composite.ts:8:32)\n    at AuthUserController.handle (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/controllers/auth-user.controller.ts:25:44)\n    at /Users/lucasfloripa/projects/elciess.ms.users/src/main/adapters/express-router.adapter.ts:13:43\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:346:12)"}
{"level":"info","message":"Init AuthUserController"}
{"error":"Missing param: email","level":"warn","message":"AuthUserController error: MissingParamError","stack":"Error: MissingParamError\n    at RequiredFieldValidation.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/required-field-validation.ts:9:14)\n    at ValidationComposite.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/validation-composite.ts:8:32)\n    at AuthUserController.handle (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/controllers/auth-user.controller.ts:26:44)\n    at /Users/lucasfloripa/projects/elciess.ms.users/src/main/adapters/express-router.adapter.ts:13:43\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:346:12)"}
{"level":"info","message":"Init AuthUserController"}
{"error":"Missing param: email","level":"warn","message":"AuthUserController error: MissingParamError","stack":"Error: MissingParamError\n    at RequiredFieldValidation.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/required-field-validation.ts:9:14)\n    at ValidationComposite.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/validation-composite.ts:8:32)\n    at AuthUserController.handle (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/controllers/auth-user.controller.ts:25:44)\n    at /Users/lucasfloripa/projects/elciess.ms.users/src/main/adapters/express-router.adapter.ts:14:43\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:346:12)"}
{"level":"info","message":"Init AuthUserController"}
{"error":"Missing param: email","level":"warn","message":"AuthUserController error: MissingParamError","stack":"Error: MissingParamError\n    at RequiredFieldValidation.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/required-field-validation.ts:9:14)\n    at ValidationComposite.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/validation-composite.ts:8:32)\n    at AuthUserController.handle (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/controllers/auth-user.controller.ts:25:44)\n    at /Users/lucasfloripa/projects/elciess.ms.users/src/main/adapters/express-router.adapter.ts:14:43\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:346:12)"}
{"level":"info","message":"Init AuthUserController"}
{"error":"Missing param: email","level":"warn","message":"AuthUserController error: MissingParamError","stack":"Error: MissingParamError\n    at RequiredFieldValidation.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/required-field-validation.ts:9:14)\n    at ValidationComposite.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/validation-composite.ts:8:32)\n    at AuthUserController.handle (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/controllers/auth-user.controller.ts:25:44)\n    at /Users/lucasfloripa/projects/elciess.ms.users/src/main/adapters/express-router.adapter.ts:14:43\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:346:12)"}
{"level":"info","message":"Init AuthUserController"}
{"error":"Missing param: email","level":"warn","message":"AuthUserController error: MissingParamError","stack":"Error: MissingParamError\n    at RequiredFieldValidation.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/required-field-validation.ts:9:14)\n    at ValidationComposite.validate (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/validators/validation-composite.ts:8:32)\n    at AuthUserController.handle (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/controllers/auth-user.controller.ts:25:44)\n    at /Users/lucasfloripa/projects/elciess.ms.users/src/main/adapters/express-router.adapter.ts:13:43\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lucasfloripa/projects/elciess.ms.users/node_modules/express/lib/router/index.js:346:12)"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"email":"test@mail.com","level":"debug","message":"AuthUserController request","password":"123"}
{"level":"info","message":"Init AuthUserUsecase"}
{"email":"test@mail.com","level":"debug","message":"AuthUserUsecase request"}
{"email":"test@mail.com","level":"debug","message":"AuthUserUsecase: Checking if user exists"}
{"confirmPassword":"$2a$04$LN4HA1Pnj576ejK5juXdXeTOJYD3A5Z6tEAX3TJ2sv24E23y/4Ajq","level":"debug","message":"AuthUserUsecase: Comparing passwords","password":"123"}
{"level":"debug","message":"AuthUserUsecase: Generating access token","userId":"2XiugeNphFKw1WpduCqUZd"}
{"level":"debug","message":"AuthUserUsecase: Generating refresh token","userId":"2XiugeNphFKw1WpduCqUZd"}
{"level":"debug","message":"AuthUserUsecase: Saving refresh token","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIyWGl1Z2VOcGhGS3cxV3BkdUNxVVpkIiwicm9sZSI6IkRFRkFVTFQiLCJpYXQiOjE3NTE5MDk2MDUsImV4cCI6MTc1MjUxNDQwNX0.Id6m1PzvIDwUyHN2WNu6zXo29IizkwL3tWwmZKt2TmQ"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"hasAccessToken":true,"hasRefreshToken":true,"level":"debug","message":"AuthUserUsecase response","userId":"2XiugeNphFKw1WpduCqUZd"}
{"level":"info","message":"Completed AuthUserController"}
{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIyWGl1Z2VOcGhGS3cxV3BkdUNxVVpkIiwicm9sZSI6IkRFRkFVTFQiLCJpYXQiOjE3NTE5MDk2MDUsImV4cCI6MTc1MTkxMDUwNX0.oLz9wEExeqNAMu8GXwdgb8KjhQsChR2-iJSiX_mTgB0","level":"debug","message":"AuthUserController response","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIyWGl1Z2VOcGhGS3cxV3BkdUNxVVpkIiwicm9sZSI6IkRFRkFVTFQiLCJpYXQiOjE3NTE5MDk2MDUsImV4cCI6MTc1MjUxNDQwNX0.Id6m1PzvIDwUyHN2WNu6zXo29IizkwL3tWwmZKt2TmQ"}
{"level":"info","message":"Init AuthRoleUsecase"}
{"level":"info","message":"Completed AuthRoleUsecase"}
{"level":"info","message":"Init AuthRoleUsecase"}
{"level":"warn","message":"AuthRoleUsecase: Access denied. Role 'DEFAULT' does not match required role 'ADMIN'","requiredRole":"ADMIN","role":"DEFAULT"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"warn","message":"AuthUserUsecase: User not found"}
{"error":"User not found","level":"warn","message":"AuthUserController error: UnauthorizedError","stack":"Error: UnauthorizedError\n    at AuthUserUsecase.execute (/Users/lucasfloripa/projects/elciess.ms.users/src/application/usecases/auth-user.usecase.ts:35:14)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthUserController.handle (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/controllers/auth-user.controller.ts:32:26)\n    at async /Users/lucasfloripa/projects/elciess.ms.users/src/main/adapters/express-router.adapter.ts:13:26"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init PasswordResetController"}
{"level":"info","message":"Init PasswordResetUsecase"}
{"level":"info","message":"Completed PasswordResetUsecase"}
{"level":"info","message":"Completed PasswordResetController"}
{"level":"info","message":"Init PasswordResetController"}
{"level":"info","message":"Init PasswordResetUsecase"}
{"level":"info","message":"Completed PasswordResetUsecase"}
{"level":"info","message":"Completed PasswordResetController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"warn","message":"AuthUserUsecase: User not found"}
{"error":"User not found","level":"warn","message":"AuthUserController error: UnauthorizedError","stack":"Error: UnauthorizedError\n    at AuthUserUsecase.execute (/Users/lucasfloripa/projects/elciess.ms.users/src/application/usecases/auth-user.usecase.ts:35:14)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthUserController.handle (/Users/lucasfloripa/projects/elciess.ms.users/src/presentation/controllers/auth-user.controller.ts:32:26)\n    at async /Users/lucasfloripa/projects/elciess.ms.users/src/main/adapters/express-router.adapter.ts:13:26"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
{"level":"info","message":"Init AuthUserController"}
{"level":"info","message":"Init AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserUsecase"}
{"level":"info","message":"Completed AuthUserController"}
